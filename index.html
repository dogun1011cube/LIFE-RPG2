<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LIFE RPG – Hardcore Tower Mode</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="wrap">
    <header class="top">
      <div class="brand">
        <div class="title">LIFE RPG</div>
        <div class="sub">Hardcore Tower Mode (GitHub Pages)</div>
      </div>
      <div class="topBtns">
        <button id="profileBtn" class="ghost" type="button">프로필</button>
        <button id="recordsBtn" class="ghost" type="button">기록 관리</button>
      </div>
    </header>

    <main class="grid">
      <section class="card">
        <h2>현재 상태</h2>
        <div class="stats">
          <div class="stat"><div class="k">Day</div><div class="v" id="dayText">1</div></div>
          <div class="stat"><div class="k">Level</div><div class="v" id="levelText">1</div></div>
          <div class="stat"><div class="k">XP</div><div class="v" id="xpText">0</div></div>
          <div class="stat"><div class="k">Gold</div><div class="v" id="goldText">0G</div></div>
          <div class="stat"><div class="k">Tower</div><div class="v" id="floorText">0F</div></div>
          <div class="stat"><div class="k">Battle</div><div class="v" id="battleText">0</div></div>
          <div class="stat wide"><div class="k">총 공부 시간</div><div class="v" id="totalText">00:00:00</div></div>
        </div>
        <div class="drop" id="lastDrop">v1.3.6 CLEAN 로딩중…</div>
      </section>

      <section class="card">
        <h2>공부 기록 추가</h2>
        <div class="form">
          <label>과목</label>
          <div class="subjectRow">
            <select id="subjectSelect"></select>
            <button id="addSubjectOpenBtn" class="ghost" type="button">+ 과목</button>
          </div>
          <div id="addSubjectRow" class="addSubjectRow hidden">
            <input id="newSubjectInput" placeholder="새 과목 이름 (예: 화학2)" />
            <button id="addSubjectBtn" type="button">추가</button>
          </div>

          <label>시간</label>
          <div class="hms">
            <div class="hmsItem">
              <div class="hmsLabel">시간</div>
              <input id="hoursInput" type="number" min="0" step="1" value="0" />
            </div>
            <div class="hmsItem">
              <div class="hmsLabel">분</div>
              <input id="minutesInput" type="number" min="0" step="1" value="0" />
            </div>
            <div class="hmsItem">
              <div class="hmsLabel">초</div>
              <input id="secondsInput" type="number" min="0" step="1" value="0" />
            </div>
          </div>

          <div class="row">
            <button id="addStudyBtn" type="button">기록 추가</button>
            <button id="nextDayBtn" class="ghost" type="button">일어났어 (Day +1)</button>
          </div>
          <div class="hint">※ 분/초를 비우면 자동으로 0 처리됨</div>
        </div>
      </section>

      <section class="card">
        <h2>로그</h2>
        <div id="log" class="log"></div>
        <div class="hint">최근 공부 기록은 클릭해서 수정할 수 있어</div>
      </section>
    </main>
  </div>

  <!-- PROFILE OVERLAY -->
  <div id="profileOverlay" class="overlay hidden" aria-hidden="true">
    <div class="modal">
      <div class="modalTop">
        <div>
          <div class="modalTitle">프로필</div>
          <div class="modalSub">계정(프로필)마다 진행이 따로 저장돼</div>
        </div>
        <button id="closeProfileBtn" class="ghost">닫기</button>
      </div>

      <div class="form" style="margin-top:10px;">
        <label>현재 프로필</label>
        <div class="row">
          <select id="profileSelect"></select>
          <button id="newProfileBtn" class="ghost" type="button">+ 새 프로필</button>
        </div>
        <div id="newProfileRow" class="row hidden">
          <input id="newProfileInput" placeholder="프로필 이름 (예: dogun)" />
          <button id="createProfileBtn" type="button">생성</button>
        </div>

        <label>보안</label>
        <div class="row">
          <button id="exportBtn" class="ghost" type="button">내보내기(JSON)</button>
          <button id="importBtn" class="ghost" type="button">가져오기(JSON)</button>
          <input id="importFile" type="file" accept="application/json" style="display:none;" />
        </div>
        <div class="hint">내보내기는 백업용이야.</div>
      </div>
    </div>
  </div>

  <!-- RECORDS OVERLAY -->
  <div id="recordsOverlay" class="overlay hidden" aria-hidden="true">
    <div class="modal">
      <div class="modalTop">
        <div>
          <div class="modalTitle">기록 관리</div>
          <div class="modalSub">원하는 기록을 선택해서 삭제할 수 있어</div>
        </div>
        <button id="closeRecordsBtn" class="ghost">닫기</button>
      </div>

      <div class="recordsTools">
        <input id="recordsSearch" placeholder="과목 검색 (예: 화학2)" />
        <label class="recordsCheck"><input type="checkbox" id="recordsSelectAll" /> 전체 선택</label>
        <button id="deleteSelectedBtn" class="danger" type="button">선택 삭제</button>
      </div>

      <div id="recordsList" class="recordsList"></div>
      <div class="hint">※ study 기록만 삭제 가능</div>
    </div>
  </div>

  <!-- EDIT OVERLAY -->
  <div id="editOverlay" class="overlay hidden" aria-hidden="true">
    <div class="modal">
      <div class="modalTop">
        <div>
          <div class="modalTitle">기록 수정</div>
          <div class="modalSub">과목/시간을 바꾼 뒤 저장</div>
        </div>
        <button id="closeEditBtn" class="ghost">닫기</button>
      </div>

      <div class="form" style="margin-top:10px;">
        <label>과목</label>
        <div class="subjectRow">
          <select id="editSubjectSelect"></select>
          <button id="editAddSubjectOpenBtn" class="ghost" type="button">+ 과목</button>
        </div>
        <div id="editAddSubjectRow" class="addSubjectRow hidden">
          <input id="editNewSubjectInput" placeholder="새 과목 이름" />
          <button id="editAddSubjectBtn" type="button">추가</button>
        </div>

        <label>시간</label>
        <div class="hms">
          <div class="hmsItem"><div class="hmsLabel">시간</div><input id="editHours" type="number" min="0" step="1" value="0"/></div>
          <div class="hmsItem"><div class="hmsLabel">분</div><input id="editMinutes" type="number" min="0" step="1" value="0"/></div>
          <div class="hmsItem"><div class="hmsLabel">초</div><input id="editSeconds" type="number" min="0" step="1" value="0"/></div>
        </div>

        <div class="row" style="justify-content:flex-end;">
          <button id="saveEditBtn" type="button">저장</button>
          <button id="deleteEditBtn" class="danger" type="button">삭제</button>
        </div>
        <div class="hint">※ 삭제/수정은 study 기록만 가능</div>
      </div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>
